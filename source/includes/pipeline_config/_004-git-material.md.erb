<%
json = {
  materials: [
    {
      type: 'git',
      attributes: {
        name: 'api-docs',
        url: 'https://github.com/gocd/api.go.cd',
        branch: 'master',
        destination: 'api.go.cd',
        auto_update: true,
        filter: {
          ignore: %w(**/*.xml **/*.html)
        },
        invert_filter: true,
        submodule_folder: nil,
        shallow_clone: true
      }
    }
  ]
}
%>

<%=
describe_sub_object 'The git material attributes', json: json, html_id: 'pipeline-config-git-material' do
  name             'String',  'The name of this material.'
  url              'String',  'The URL of the git repository.'
  branch           'String',  'The git branch to build.'
  username         'String',  'Git user name'
  password         'String',  'Git user\'s password'
  ssh_private_key  'String',  'Content of the private key to authenticate the user with git over ssh.', since: '19.5.0'
  ssh_passphrase   'String',  'Optional passphrase, to authenticate the user with git over ssh.', since: '19.5.0'
  destination      'String',  'The directory (relative to the pipeline directory) in which source code will be checked out.'
  auto_update      'Boolean', 'Whether to poll for new changes or not.'
  filter           'Object',  'The [filter](#pipeline-config-filter-object) specifies files in changesets that should not trigger a pipeline automatically.'
  invert_filter    'Boolean', 'Invert filter to enable whitelist', since: '16.7.0'
  submodule_folder 'String',  'The git submodule in the git repository.'
  shallow_clone    'Boolean', 'Clone with -n (--depth) option if set to true', since: '16.3.0'
end
%>
